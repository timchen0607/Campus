(function(t){function e(e){for(var c,r,l=e[0],o=e[1],s=e[2],h=0,d=[];h<l.length;h++)r=l[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],c=!0,l=1;l<n.length;l++){var o=n[l];0!==a[o]&&(c=!1)}c&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var c={},a={app:0},i=[];function r(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=c,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)r.d(n,c,function(e){return t[e]}.bind(null,c));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/Campus/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0906":function(t,e,n){"use strict";n("f901")},"0ee1":function(t,e,n){},1757:function(t,e,n){"use strict";n("8a39")},"1cb4":function(t,e,n){},"1fe8":function(t,e,n){t.exports=n.p+"img/error.8c7dd99e.png"},3599:function(t,e,n){"use strict";n("1cb4")},"3eab":function(t,e,n){"use strict";n("d084")},4357:function(t,e,n){"use strict";n("e927")},"4c77":function(t,e,n){},"4d37":function(t,e,n){"use strict";n("4c77")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function a(t,e,n,a,i,r){var l=Object(c["x"])("Header"),o=Object(c["x"])("router-view");return Object(c["q"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(l,{userID:i.userID,activeAuth:i.activeAuth,activeGroupName:i.activeGroupName,groupList:i.groupList,handlerData:r.handlerData},null,8,["userID","activeAuth","activeGroupName","groupList","handlerData"]),Object(c["h"])(o,{userID:i.userID,account:i.account,userName:i.userName,activeAuth:i.activeAuth,groupList:i.groupList,setGroupInfo:r.setGroupInfo,handlerData:r.handlerData,handlerLogs:r.handlerLogs},null,8,["userID","account","userName","activeAuth","groupList","setGroupInfo","handlerData","handlerLogs"])],64)}n("7db0"),n("ac1f"),n("466d");var i=n("260b"),r=(n("000b"),n("66ce"),n("b0c0"),n("cf05")),l=n.n(r),o=Object(c["G"])("data-v-414b328e");Object(c["t"])("data-v-414b328e");var s={class:"header"},u={class:"container"},h=Object(c["h"])("h1",{class:"header-title"},[Object(c["h"])("div",{class:"header-icon"},[Object(c["h"])("img",{src:l.a})]),Object(c["g"])(" Campus ")],-1),d={key:0,class:"header-subTitle"},b=Object(c["h"])("i",{class:"icofont-gear"},null,-1),p=Object(c["h"])("hr",null,null,-1),O=Object(c["h"])("i",{class:"icofont-user-alt-2"},null,-1),j=Object(c["g"])(" 個人資料 "),f={key:0},m=Object(c["h"])("i",{class:"icofont-history"},null,-1),g=Object(c["g"])(" 使用紀錄 "),v=Object(c["h"])("i",{class:"icofont-logout"},null,-1),k=Object(c["g"])(" 登出 ");Object(c["r"])();var y=o((function(t,e,n,a,i,r){var l=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("header",s,[Object(c["h"])("div",u,[h,n.userID?(Object(c["q"])(),Object(c["d"])("h2",d,[Object(c["h"])("span",{textContent:Object(c["z"])(n.activeGroupName)},null,8,["textContent"]),Object(c["h"])("span",{class:"header-setting",onClick:e[1]||(e[1]=function(t){return i.showMenu=!i.showMenu})},[b]),Object(c["h"])("div",{class:["header-menu",{show:i.showMenu}]},[Object(c["h"])("ul",null,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(n.groupList,(function(t){return Object(c["q"])(),Object(c["d"])("li",{key:t.key},[Object(c["h"])(l,{class:"header-menu-item",to:"/"+t.key,textContent:Object(c["z"])(t.name),onClick:e[2]||(e[2]=function(t){return i.showMenu=!1})},null,8,["to","textContent"])])})),128))]),p,Object(c["h"])("ul",null,[Object(c["h"])("li",null,[Object(c["h"])(l,{class:"header-menu-item",to:"/Setting",onClick:e[3]||(e[3]=function(t){return i.showMenu=!1})},{default:o((function(){return[O,j]})),_:1})]),n.activeAuth>2?(Object(c["q"])(),Object(c["d"])("li",f,[Object(c["h"])(l,{class:"header-menu-item",to:"/Logs",onClick:e[4]||(e[4]=function(t){return i.showMenu=!1})},{default:o((function(){return[m,g]})),_:1})])):Object(c["e"])("",!0),Object(c["h"])("li",null,[Object(c["h"])("span",{class:"header-menu-item",onClick:e[5]||(e[5]=function(){return r.signOut&&r.signOut.apply(r,arguments)})},[v,k])])])],2)])):Object(c["e"])("",!0)])])})),C=(n("a9e3"),n("5319"),n("6c02")),w=Object(c["G"])("data-v-4e4321cb");Object(c["t"])("data-v-4e4321cb");var D={class:"group main"},I={class:"container"},x={key:0,class:"loading"},A=Object(c["h"])("div",{class:"list-reply l1 skeleton"},"00",-1),L=Object(c["h"])("div",{class:"list-main"},[Object(c["h"])("div",{class:"loading-title skeleton"}),Object(c["h"])("div",{class:"loading-text skeleton"})],-1),S={key:1,class:"list"},P={class:"main-control"},q={key:0,class:"icofont-check"},N=Object(c["g"])(" 追蹤中的文章 "),z=Object(c["h"])("i",{class:"icofont-pencil-alt-5"},null,-1),T=Object(c["g"])(" 新增文章 "),_={class:"list-main"},G={class:"list-subTitle"};Object(c["r"])();var E=w((function(t,e,n,a,i,r){var l=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",D,[Object(c["h"])("div",I,[i.loading?(Object(c["q"])(),Object(c["d"])("div",x,[(Object(c["q"])(),Object(c["d"])(c["a"],null,Object(c["w"])(8,(function(t){return Object(c["h"])("div",{class:"list-link",key:t},[A,L])})),64))])):(Object(c["q"])(),Object(c["d"])("div",S,[Object(c["h"])("div",P,[Object(c["h"])("span",{class:["btn",{active:i.track}],onClick:e[1]||(e[1]=function(t){return i.track=!i.track})},[i.track?(Object(c["q"])(),Object(c["d"])("i",q)):Object(c["e"])("",!0),N],2),Object(c["h"])(l,{class:"btn",to:"/"+r.groupID+"/newArticle"},{default:w((function(){return[z,T]})),_:1},8,["to"])]),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(i.artList,(function(t){return Object(c["q"])(),Object(c["d"])("div",{key:t.key},[r.handleTrack(t.notify)?(Object(c["q"])(),Object(c["d"])(l,{key:0,class:"list-link",to:"/"+r.groupID+"/"+t.key},{default:w((function(){return[Object(c["h"])("div",{class:{"list-reply":!0,l1:t.reply<10,l2:t.reply>=10,l3:t.reply>=30,l4:t.reply>=50},textContent:Object(c["z"])(t.reply)},null,10,["textContent"]),Object(c["h"])("div",_,[Object(c["h"])("div",{class:"list-title",textContent:Object(c["z"])(t.title)},null,8,["textContent"]),Object(c["h"])("div",G,[Object(c["h"])("span",{textContent:Object(c["z"])(t.type)},null,8,["textContent"]),Object(c["h"])("span",{textContent:Object(c["z"])(t.authorName)},null,8,["textContent"]),Object(c["h"])("span",{textContent:Object(c["z"])(t.timeStamp)},null,8,["textContent"])])])]})),_:2},1032,["to"])):Object(c["e"])("",!0)])})),128))]))])])})),M=(n("159b"),n("b64b"),n("d3b7"),n("fb6a"),n("4e82"),{apiKey:"AIzaSyDtYB7XthyeF9hIlrfXiMKf9bQMOPqVX9U",authDomain:"campus-f09a1.firebaseapp.com",databaseURL:"https://campus-f09a1-default-rtdb.firebaseio.com",projectId:"campus-f09a1",storageBucket:"campus-f09a1.appspot.com",messagingSenderId:"916588820563",appId:"1:916588820563:web:addd06471b111a90232ea6",measurementId:"G-4ZX5YS7MYG"}),F=function(t){return new Promise((function(e,n){i["a"].auth().onAuthStateChanged((function(c){t&&c?e():n("/")}))}))},W=function(t,e){return new Promise((function(n,c){var a=e.find((function(e){return e.key===t}));a?n(a):c("/Error")}))},U=function(t){return i["a"].database().ref(t)},V=function(t){return new Promise((function(e){i["a"].database().ref(t).once("value",(function(t){return e(t.val())}))}))},B=function(t,e){return new Promise((function(n){i["a"].database().ref(t).set(e),n()}))},R=function(t,e){return new Promise((function(n){var c=i["a"].database().ref(t).push(e);n(c)}))},$=function(t){return new Promise((function(e){i["a"].database().ref(t).remove(),e()}))},Z=function(){var t=new Date,e=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2),c=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),i=("0"+t.getSeconds()).slice(-2),r=t.getFullYear()+"/"+e+"/"+n+" "+c+":"+a+":"+i;return r},H=function(t){return t.sort((function(t,e){return Date.parse(e.timeStamp)-Date.parse(t.timeStamp)})),t},X={name:"Group",data:function(){return{loading:!0,track:!1,artList:[]}},computed:{groupID:function(){return this.$route.params.groupID}},props:{userID:String,userName:String,activeAuth:Number,groupList:Array,handlerData:Function,handlerLogs:Function},created:function(){var t=this;F(this.userID).then((function(){return W(t.groupID,t.groupList)})).then((function(e){t.handlerData("activeAuth",e.auth),t.handlerData("activeGroupName",e.name),t.handleGroup()})).catch((function(t){return Tn.replace(t)}))},watch:{groupID:function(){var t=this;this.userID&&this.groupID&&W(this.groupID,this.groupList).then((function(e){t.handlerData("activeAuth",e.auth),t.handlerData("activeGroupName",e.name),t.handleGroup()})).catch((function(t){return Tn.replace(t)}))}},methods:{handleGroup:function(){var t=this;this.handlerLogs("View",this.groupID),U("/article/"+this.groupID).on("value",(function(e){t.artList.length=0,t.loading=!1,e.val()&&Object.keys(e.val()).forEach((function(n){var c=e.val()[n];c.key=n,t.artList.unshift(c)}))}))},handleTrack:function(t){return!this.track||!!t&&!(t.indexOf(this.userID)<0)}}};n("4357");X.render=E,X.__scopeId="data-v-4e4321cb";var J=X,K=Object(c["G"])("data-v-5060623c");Object(c["t"])("data-v-5060623c");var Y={class:"article main"},Q={class:"container"},tt={key:0,class:"loading"},et=Object(c["f"])('<div class="article-main" data-v-5060623c><h3 class="article-title" data-v-5060623c></h3><h4 class="article-subTitle skeleton" data-v-5060623c></h4><pre class="article-content" data-v-5060623c></pre></div><div class="article-comment popular" data-v-5060623c><div class="article-floor popular" data-v-5060623c></div><div class="article-comment-main" data-v-5060623c><h4 class="article-subTitle skeleton" data-v-5060623c></h4><pre class="article-content" data-v-5060623c></pre></div></div>',2),nt=Object(c["h"])("div",{class:"article-floor skeleton"},null,-1),ct=Object(c["h"])("div",{class:"article-comment-main"},[Object(c["h"])("h4",{class:"article-subTitle skeleton"}),Object(c["h"])("pre",{class:"article-content"})],-1),at={key:1},it={class:"main-control"},rt=Object(c["h"])("i",{class:"icofont-swoosh-left"},null,-1),lt=Object(c["g"])("返回文章列表 "),ot=Object(c["h"])("i",{class:"icofont-pencil-alt-5"},null,-1),st=Object(c["g"])(" 新增回覆 "),ut={class:"article-main"},ht={class:"article-subTitle"},dt=Object(c["h"])("i",{class:"icofont-ui-delete"},null,-1),bt={class:"main-control"},pt={key:0},Ot=Object(c["h"])("span",null,null,-1),jt={class:"article-notify"},ft={key:0,class:"article-comment popular"},mt={class:"article-comment-main"},gt={class:"article-subTitle"},vt=Object(c["h"])("i",{class:"icofont-ui-delete"},null,-1),kt=Object(c["h"])("i",{class:"icofont-thumbs-up"},null,-1),yt={class:"article-comment-main"},Ct={class:"article-subTitle"},wt=Object(c["h"])("i",{class:"icofont-ui-delete"},null,-1),Dt=Object(c["h"])("i",{class:"icofont-thumbs-up"},null,-1);Object(c["r"])();var It=K((function(t,e,n,a,i,r){var l=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",Y,[Object(c["h"])("div",Q,[i.loading?(Object(c["q"])(),Object(c["d"])("div",tt,[et,(Object(c["q"])(),Object(c["d"])(c["a"],null,Object(c["w"])(5,(function(t){return Object(c["h"])("div",{class:"article-comment",key:t},[nt,ct])})),64))])):(Object(c["q"])(),Object(c["d"])("div",at,[Object(c["h"])("div",it,[i.loading?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])(l,{key:0,class:"btn",to:"/"+r.groupID},{default:K((function(){return[rt,lt]})),_:1},8,["to"])),Object(c["h"])(l,{class:"btn",to:"/"+r.groupID+"/"+r.articleID+"/newComment"},{default:K((function(){return[ot,st]})),_:1},8,["to"])]),Object(c["h"])("div",ut,[Object(c["h"])("h3",{class:"article-title",textContent:Object(c["z"])(i.article.title)},null,8,["textContent"]),Object(c["h"])("h4",ht,[Object(c["h"])("span",{textContent:Object(c["z"])(i.article.type)},null,8,["textContent"]),Object(c["h"])("span",{textContent:Object(c["z"])(i.article.authorName)},null,8,["textContent"]),Object(c["h"])("span",{class:"article-date",textContent:Object(c["z"])(i.article.timeStamp)},null,8,["textContent"]),n.userID===i.article.author||n.activeAuth>1?(Object(c["q"])(),Object(c["d"])("span",{key:0,class:"article-del",onClick:e[1]||(e[1]=function(){return r.handleArtDel&&r.handleArtDel.apply(r,arguments)})},[dt])):Object(c["e"])("",!0)]),Object(c["h"])("pre",{class:"article-content",textContent:Object(c["z"])(i.article.content)},null,8,["textContent"])]),Object(c["h"])("div",bt,[i.popCmt.likeCnt>=5?(Object(c["q"])(),Object(c["d"])("span",pt,"熱門留言")):Object(c["e"])("",!0),Ot,Object(c["h"])("div",jt,[Object(c["E"])(Object(c["h"])("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.notify=t}),id:"notify"},null,512),[[c["B"],i.notify]]),Object(c["h"])("label",{for:"notify",onClick:e[3]||(e[3]=function(){return r.handleNotify&&r.handleNotify.apply(r,arguments)})}," 開啟文章通知")])]),i.popCmt.likeCnt>=5?(Object(c["q"])(),Object(c["d"])("div",ft,[Object(c["h"])("div",{class:"article-floor popular",textContent:Object(c["z"])(i.popCmt.index)},null,8,["textContent"]),Object(c["h"])("div",mt,[Object(c["h"])("h4",gt,[Object(c["h"])("span",{textContent:Object(c["z"])(i.popCmt.authorName)},null,8,["textContent"]),Object(c["h"])("span",{class:"article-date",textContent:Object(c["z"])(i.popCmt.timeStamp)},null,8,["textContent"]),n.userID===i.popCmt.author||n.activeAuth>1?(Object(c["q"])(),Object(c["d"])("span",{key:0,class:"article-del",onClick:e[4]||(e[4]=function(t){return r.handleCmtDel(i.popCmt.key)})},[vt])):(Object(c["q"])(),Object(c["d"])("span",{key:1,class:["article-like",{active:i.popCmt.liked}],onClick:e[5]||(e[5]=function(t){return r.handleLikes(i.popCmt.key,i.popCmt.likes)})},[kt,Object(c["g"])(" "+Object(c["z"])(i.popCmt.likeCnt),1)],2))]),Object(c["h"])("pre",{class:"article-content",textContent:Object(c["z"])(i.popCmt.content)},null,8,["textContent"])])])):Object(c["e"])("",!0),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(i.cmtList,(function(t){return Object(c["q"])(),Object(c["d"])("div",{class:"article-comment",key:t.key},[Object(c["h"])("div",{class:"article-floor",textContent:Object(c["z"])(t.index)},null,8,["textContent"]),Object(c["h"])("div",yt,[Object(c["h"])("h4",Ct,[Object(c["h"])("span",{textContent:Object(c["z"])(t.authorName)},null,8,["textContent"]),Object(c["h"])("span",{class:"article-date",textContent:Object(c["z"])(t.timeStamp)},null,8,["textContent"]),n.userID===t.author||n.activeAuth>1?(Object(c["q"])(),Object(c["d"])("span",{key:0,class:"article-del",onClick:function(e){return r.handleCmtDel(t.key)}},[wt],8,["onClick"])):(Object(c["q"])(),Object(c["d"])("span",{key:1,class:["article-like",{active:t.liked}],onClick:function(e){return r.handleLikes(t.key,t.likes)}},[Dt,Object(c["g"])(" "+Object(c["z"])(t.likeCnt),1)],10,["onClick"]))]),Object(c["h"])("pre",{class:"article-content",textContent:Object(c["z"])(t.content)},null,8,["textContent"])])])})),128))]))])])})),xt=(n("1276"),n("a434"),n("a15b"),n("99af"),n("1940")),At=n.n(xt),Lt={name:"Article",data:function(){return{loading:!0,article:null,notify:!1,notifyCnt:0,lastLiked:"",likedCnt:0,cmtList:[],popCmt:{likeCnt:0}}},computed:{groupID:function(){return this.$route.params.groupID},articleID:function(){return this.$route.params.articleID}},props:{userID:String,userName:String,activeAuth:Number,groupList:Array,handlerData:Function,handlerLogs:Function},created:function(){var t=this;F(this.userID).then((function(){return W(t.groupID,t.groupList)})).then((function(e){t.handlerData("activeAuth",e.auth),t.handlerData("activeGroupName",e.name),t.handleArticle()})).catch((function(t){return Tn.replace(t)}))},methods:{handleArticle:function(){var t=this;V("/article/"+this.groupID+"/"+this.articleID).then((function(e){if(!e)throw new Error;t.handlerLogs("View",t.groupID,t.articleID),console.log(),t.notify=!!e.notify&&e.notify.indexOf(t.userID)>=0,t.article=e})).then((function(){U("/comment/"+t.groupID+"/"+t.articleID).on("value",(function(e){t.cmtList.length=0,e.val()&&Object.keys(e.val()).forEach((function(n,c){var a=e.val()[n];a.key=n,a.index=c+1+"F",a.likeCnt=a.likes?a.likes.split(",").length:0,a.liked=!!(a.likes&&a.likes.indexOf(t.userID)>=0),a.likeCnt>=5&&a.likeCnt>=t.popCmt.likeCnt&&(t.popCmt=a),t.cmtList.unshift(a)}))}))})).then((function(){return t.loading=!1})).catch((function(){return Tn.replace("/Error")}))},handleNotify:function(){if(this.notifyCnt++,this.notifyCnt>5)At()("操作太頻繁!","","warning");else{var t=this.article.notify,e="/article/"+this.groupID+"/"+this.articleID+"/notify",n=t?t.indexOf(this.userID):-2,c=t?t.split(","):[this.userID];if(-1===n&&c.push(this.userID),n>-1){var a=c.indexOf(this.userID);c.splice(a,1)}B(e,c.join()),this.article.notify=c.join(),this.handlerLogs("Notify",this.groupID,this.articleID,!this.notify)}},handleLikes:function(t,e){if(this.lastLiked===t&&this.likedCnt++,this.likedCnt>5)At()("操作太頻繁!","","warning");else{this.lastLiked=t;var n="/comment/".concat(this.groupID,"/").concat(this.articleID,"/").concat(t,"/likes"),c=e?e.indexOf(this.userID):-2,a=e?e.split(","):[this.userID];if(-1===c&&a.push(this.userID),c>-1){var i=a.indexOf(this.userID);a.splice(i,1)}B(n,a.join()),this.handlerLogs("Like",this.groupID,this.articleID,t)}},handleArtDel:function(){var t=this;At()({title:"確定要刪除?刪除後無法恢復資料。",icon:"info",buttons:!0,dangerMode:!0}).then((function(e){e&&$("/article/"+t.groupID+"/"+t.articleID).then((function(){t.handlerLogs("Delete",t.groupID,t.articleID),At()("刪除成功!","","success"),Tn.push("/"+t.groupID)}))}))},handleCmtDel:function(t){var e=this;At()({title:"確定要刪除?刪除後無法恢復資料。",icon:"info",buttons:!0,dangerMode:!0}).then((function(n){n&&$("/comment/"+e.groupID+"/"+e.articleID+"/"+t).then((function(){e.handlerLogs("Delete",e.groupID,e.articleID,t),At()("刪除成功!","","success"),Tn.push("/"+e.groupID)}))}))}}};n("f85c");Lt.render=It,Lt.__scopeId="data-v-5060623c";var St=Lt,Pt=n("1fe8"),qt=n.n(Pt),Nt=Object(c["G"])("data-v-8a6c3822");Object(c["t"])("data-v-8a6c3822");var zt={class:"newArticle main"},Tt={class:"container"},_t={key:0,class:"loading"},Gt=Object(c["f"])('<div class="skeleton loading-input" data-v-8a6c3822></div><div class="skeleton loading-text" data-v-8a6c3822></div><div class="skeleton loading-input" data-v-8a6c3822></div><div class="lightBox" data-v-8a6c3822><div class="skeleton loading-img" data-v-8a6c3822></div><div class="skeleton loading-img" data-v-8a6c3822></div><div class="skeleton loading-img" data-v-8a6c3822></div><div class="skeleton loading-img" data-v-8a6c3822></div></div><div class="skeleton loading-btn" data-v-8a6c3822></div>',5),Et={key:1,class:"main-control"},Mt=Object(c["h"])("i",{class:"icofont-swoosh-left"},null,-1),Ft=Object(c["g"])("返回文章列表 "),Wt=Object(c["h"])("i",{class:"icofont-paper"},null,-1),Ut=Object(c["g"])(" Tips "),Vt={key:2,class:"newArt"},Bt=Object(c["h"])("p",{class:"newArt-label"},"文章類型(必填)",-1),Rt=Object(c["h"])("p",{class:"newArt-label"},"標題(必填)",-1),$t=Object(c["h"])("p",{class:"newArt-label"},"內文(必填)",-1),Zt=Object(c["h"])("input",{type:"file",class:"newArt-input",multiple:"multiple",accept:"image/*"},null,-1),Ht=Object(c["h"])("p",{class:"newArt-label"},"圖片預覽(施工中)",-1),Xt=Object(c["h"])("div",{class:"lightBox"},[Object(c["h"])("a",{href:"#pic01",class:"newArt-thumb"},[Object(c["h"])("img",{src:qt.a})]),Object(c["h"])("a",{href:"#pic02",class:"newArt-thumb"},[Object(c["h"])("img",{src:l.a})]),Object(c["h"])("a",{href:"#pic03",class:"newArt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/fogIDC.png"})]),Object(c["h"])("a",{href:"#pic04",class:"newArt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/ZU0vln.png"})]),Object(c["h"])("a",{href:"#pic05",class:"newArt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/v2i65J.png"})]),Object(c["h"])("a",{href:"#pic06",class:"newArt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/EB69Xj.png"})]),Object(c["h"])("a",{href:"#pic07",class:"newArt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/Rn1Zji.png"})]),Object(c["h"])("a",{href:"#pic08",class:"newArt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/H1zVUS.png"})])],-1),Jt=Object(c["h"])("div",{class:"newArt-img"},[Object(c["h"])("a",{href:"#",id:"pic01"},[Object(c["h"])("img",{src:qt.a})]),Object(c["h"])("a",{href:"#",id:"pic02"},[Object(c["h"])("img",{src:l.a})]),Object(c["h"])("a",{href:"#",id:"pic03"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/fogIDC.png"})]),Object(c["h"])("a",{href:"#",id:"pic04"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/ZU0vln.png"})]),Object(c["h"])("a",{href:"#",id:"pic05"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/v2i65J.png"})]),Object(c["h"])("a",{href:"#",id:"pic06"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/EB69Xj.png"})]),Object(c["h"])("a",{href:"#",id:"pic07"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/Rn1Zji.png"})]),Object(c["h"])("a",{href:"#",id:"pic08"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/H1zVUS.png"})])],-1);Object(c["r"])();var Kt=Nt((function(t,e,n,a,i,r){var l=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",zt,[Object(c["h"])("div",Tt,[i.loading?(Object(c["q"])(),Object(c["d"])("div",_t,[Gt])):Object(c["e"])("",!0),i.loading?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",Et,[Object(c["h"])(l,{class:"btn",to:"/"+r.groupID},{default:Nt((function(){return[Mt,Ft]})),_:1},8,["to"]),Object(c["h"])("button",{class:"btn",onClick:e[1]||(e[1]=function(){return r.handleTips&&r.handleTips.apply(r,arguments)})},[Wt,Ut])])),i.loading?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",Vt,[Bt,(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(i.types,(function(t,e){return Object(c["q"])(),Object(c["d"])("div",{class:"newArt-type",key:e},[e<2||n.activeAuth>1?(Object(c["q"])(),Object(c["d"])("span",{key:0,class:["btn",{active:i.newArtType===t}],onClick:function(e){return i.newArtType=t},textContent:Object(c["z"])(t)},null,10,["onClick","textContent"])):Object(c["e"])("",!0)])})),128)),Rt,Object(c["E"])(Object(c["h"])("input",{type:"text",class:"newArt-input",maxlength:"30","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.newArtTitle=t})},null,512),[[c["C"],i.newArtTitle]]),$t,Object(c["E"])(Object(c["h"])("textarea",{cols:"30",rows:"10",maxlength:"500",class:"newArt-input","onUpdate:modelValue":e[3]||(e[3]=function(t){return i.newArtContent=t})},null,512),[[c["C"],i.newArtContent]]),Object(c["h"])("p",{class:"newArt-label",textContent:Object(c["z"])("上傳圖片(非必要，上限 "+i.limit+" 張)")},null,8,["textContent"]),Zt,Ht,Xt,Jt,Object(c["h"])("button",{class:"btn newArt-submit",onClick:e[4]||(e[4]=function(){return r.release&&r.release.apply(r,arguments)})},"發布")]))])])})),Yt=(n("498a"),{name:"NewArticle",data:function(){return{loading:!0,types:["請益","分享","作業","公告"],newArtType:"請益",newArtTitle:"",newArtContent:"",limit:4}},computed:{groupID:function(){return this.$route.params.groupID}},props:{userID:String,userName:String,activeAuth:Number,groupList:Array,handlerData:Function,handlerLogs:Function},created:function(){var t=this;F(this.userID).then((function(){return W(t.groupID,t.groupList)})).then((function(e){t.handlerData("activeAuth",e.auth),t.handlerData("activeGroupName",e.name),t.loading=!1})).catch((function(t){return Tn.replace(t)}))},methods:{handleTips:function(){At()("Tips","可以將程式碼貼至 CodePile 或 CodePen，方便其他人閱覽或編輯。","info",{buttons:{codepile:{text:"CodePile",value:"codepile"},codepen:{text:"CodePen",value:"codepen"},OK:!0}}).then((function(t){"codepile"===t&&window.open("https://www.codepile.net/"),"codepen"===t&&window.open("https://codepen.io/")}))},release:function(){var t=this;this.newArtTitle.trim()&&this.newArtContent.trim()?this.newArtTitle.length>30||this.newArtContent.length>500?At()("標題或內容長度超過上限!","","error"):At()({title:"確定要發布?文章發布後不可修改。",icon:"info",buttons:!0,dangerMode:!0}).then((function(e){if(e){var n=t.newArtContent;while(n.indexOf("\n\n\n")>-1)n=n.replaceAll("\n\n\n","\n\n");var c={author:t.userID,authorName:t.userName,content:n,notify:t.userID,reply:0,timeStamp:Z(),title:t.newArtTitle,type:t.newArtType};R("/article/"+t.groupID,c).then((function(e){return t.handlerLogs("Release",t.groupID,e.key)})).then((function(){return Tn.push("/"+t.groupID)}))}})):At()("標題與內容皆不可為空!","","error")}}});n("4d37");Yt.render=Kt,Yt.__scopeId="data-v-8a6c3822";var Qt=Yt,te=Object(c["G"])("data-v-2b0e21e8");Object(c["t"])("data-v-2b0e21e8");var ee={class:"NewComment main"},ne={class:"container"},ce={key:0,class:"loading"},ae=Object(c["f"])('<div class="skeleton loading-text" data-v-2b0e21e8></div><div class="skeleton loading-input" data-v-2b0e21e8></div><div class="lightBox" data-v-2b0e21e8><div class="skeleton loading-img" data-v-2b0e21e8></div><div class="skeleton loading-img" data-v-2b0e21e8></div><div class="skeleton loading-img" data-v-2b0e21e8></div><div class="skeleton loading-img" data-v-2b0e21e8></div></div><div class="skeleton loading-btn" data-v-2b0e21e8></div>',4),ie={key:1,class:"main-control"},re=Object(c["h"])("i",{class:"icofont-swoosh-left"},null,-1),le=Object(c["g"])("返回文章內容 "),oe=Object(c["h"])("i",{class:"icofont-paper"},null,-1),se=Object(c["g"])(" Tips "),ue={key:2,class:"newCmt"},he=Object(c["h"])("p",{class:"newCmt-label"},"回覆內容(必填)",-1),de=Object(c["h"])("input",{type:"file",class:"newCmt-input",multiple:"multiple",accept:"image/*"},null,-1),be=Object(c["h"])("p",{class:"newCmt-label"},"圖片預覽(施工中)",-1),pe=Object(c["h"])("div",{class:"lightBox"},[Object(c["h"])("a",{href:"#pic01",class:"newCmt-thumb"},[Object(c["h"])("img",{src:qt.a})]),Object(c["h"])("a",{href:"#pic02",class:"newCmt-thumb"},[Object(c["h"])("img",{src:l.a})]),Object(c["h"])("a",{href:"#pic03",class:"newCmt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/fogIDC.png"})]),Object(c["h"])("a",{href:"#pic04",class:"newCmt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/ZU0vln.png"})]),Object(c["h"])("a",{href:"#pic05",class:"newCmt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/v2i65J.png"})]),Object(c["h"])("a",{href:"#pic06",class:"newCmt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/EB69Xj.png"})]),Object(c["h"])("a",{href:"#pic07",class:"newCmt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/Rn1Zji.png"})]),Object(c["h"])("a",{href:"#pic08",class:"newCmt-thumb"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/H1zVUS.png"})])],-1),Oe=Object(c["h"])("div",{class:"newCmt-img"},[Object(c["h"])("a",{href:"#",id:"pic01"},[Object(c["h"])("img",{src:qt.a})]),Object(c["h"])("a",{href:"#",id:"pic02"},[Object(c["h"])("img",{src:l.a})]),Object(c["h"])("a",{href:"#",id:"pic03"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/fogIDC.png"})]),Object(c["h"])("a",{href:"#",id:"pic04"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/ZU0vln.png"})]),Object(c["h"])("a",{href:"#",id:"pic05"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/v2i65J.png"})]),Object(c["h"])("a",{href:"#",id:"pic06"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/EB69Xj.png"})]),Object(c["h"])("a",{href:"#",id:"pic07"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/Rn1Zji.png"})]),Object(c["h"])("a",{href:"#",id:"pic08"},[Object(c["h"])("img",{src:"https://upload.cc/i1/2019/11/09/H1zVUS.png"})])],-1);Object(c["r"])();var je=te((function(t,e,n,a,i,r){var l=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",ee,[Object(c["h"])("div",ne,[i.loading?(Object(c["q"])(),Object(c["d"])("div",ce,[ae])):Object(c["e"])("",!0),i.loading?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",ie,[Object(c["h"])(l,{class:"btn",to:"/"+r.groupID+"/"+r.articleID},{default:te((function(){return[re,le]})),_:1},8,["to"]),Object(c["h"])("button",{class:"btn",onClick:e[1]||(e[1]=function(){return r.handleTips&&r.handleTips.apply(r,arguments)})},[oe,se])])),i.loading?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",ue,[he,Object(c["E"])(Object(c["h"])("textarea",{cols:"30",rows:"10",maxlength:"500",class:"newCmt-input","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.newCmt=t})},null,512),[[c["C"],i.newCmt]]),Object(c["h"])("p",{class:"newCmt-label",textContent:Object(c["z"])("上傳圖片(非必要，上限 "+i.limit+" 張)")},null,8,["textContent"]),de,be,pe,Oe,Object(c["h"])("button",{class:"btn newCmt-submit",onClick:e[3]||(e[3]=function(){return r.reply&&r.reply.apply(r,arguments)})},"送出")]))])])})),fe={name:"NewComment",data:function(){return{loading:!0,newCmt:"",limit:4}},computed:{groupID:function(){return this.$route.params.groupID},articleID:function(){return this.$route.params.articleID}},props:{userID:String,userName:String,activeAuth:Number,groupList:Array,handlerData:Function,handlerLogs:Function},created:function(){var t=this;F(this.userID).then((function(){return W(t.groupID,t.groupList)})).then((function(e){t.handlerData("activeAuth",e.auth),t.handlerData("activeGroupName",e.name),t.loading=!1})).catch((function(t){return Tn.replace(t)}))},methods:{handleTips:function(){At()("Tips","可以將程式碼貼至 CodePile 或 CodePen，方便其他人閱覽或編輯。","info",{buttons:{codepile:{text:"CodePile",value:"codepile"},codepen:{text:"CodePen",value:"codepen"},OK:!0}}).then((function(t){"codepile"===t&&window.open("https://www.codepile.net/"),"codepen"===t&&window.open("https://codepen.io/")}))},reply:function(){var t=this;this.newCmt.trim()?this.newCmt.length>500?At()("標題或內容長度超過上限!","","error"):At()({title:"確定要回覆?送出後不可修改。",icon:"info",buttons:!0,dangerMode:!0}).then((function(e){if(e){var n=t.newCmt;while(n.indexOf("\n\n\n")>-1)n=n.replaceAll("\n\n\n","\n\n");var c={author:t.userID,authorName:t.userName,content:n,likes:"",timeStamp:Z()};R("/comment/"+t.groupID+"/"+t.articleID,c).then((function(e){return t.handlerLogs("Reply",t.groupID,t.articleID,e.key)})).then((function(){return Tn.push("/"+t.groupID+"/"+t.articleID)}))}})):At()("內容不可為空!","","error")}}};n("3599");fe.render=je,fe.__scopeId="data-v-2b0e21e8";var me=fe,ge=Object(c["G"])("data-v-116f4e1e");Object(c["t"])("data-v-116f4e1e");var ve={key:0,class:"signIn"},ke=Object(c["h"])("img",{src:l.a,alt:"Campus Logo"},null,-1),ye={class:"signIn-inputgroup"},Ce={class:"signIn-inputgroup"},we={class:"signIn-inputgroup"},De=Object(c["h"])("label",{for:"keepOn"},"保持登入狀態(請勿在公用電腦使用)",-1),Ie={key:1,class:"btn locked"},xe=Object(c["h"])("i",{class:"icofont-login"},null,-1),Ae=Object(c["g"])(" 登入中... "),Le=Object(c["h"])("i",{class:"icofont-login"},null,-1),Se=Object(c["g"])(" 登入 ");Object(c["r"])();var Pe=ge((function(t,e,n,a,i,r){return i.loading?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",ve,[ke,Object(c["h"])("div",ye,[Object(c["E"])(Object(c["h"])("input",{type:"email",class:"signIn-input","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.email=t}),ref:"email"},null,512),[[c["C"],i.email]]),Object(c["h"])("p",{class:["signIn-placeholder",{"signIn-active":i.email}]}," 輸入您的學號 ",2)]),Object(c["h"])("div",Ce,[Object(c["E"])(Object(c["h"])("input",{type:"password",class:"signIn-input","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.password=t}),onKeyup:e[3]||(e[3]=Object(c["F"])((function(){return r.handleSignIn&&r.handleSignIn.apply(r,arguments)}),["enter"])),ref:"password"},null,544),[[c["C"],i.password]]),Object(c["h"])("p",{class:["signIn-placeholder",{"signIn-active":i.password}]}," 輸入您的密碼 ",2)]),Object(c["h"])("div",we,[Object(c["E"])(Object(c["h"])("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.keepOn=t}),id:"keepOn"},null,512),[[c["B"],i.keepOn]]),De]),i.alert?(Object(c["q"])(),Object(c["d"])("p",{key:0,class:"signIn-alert",textContent:Object(c["z"])(i.alert)},null,8,["textContent"])):Object(c["e"])("",!0),i.locked?(Object(c["q"])(),Object(c["d"])("button",Ie,[xe,Ae])):(Object(c["q"])(),Object(c["d"])("button",{key:2,class:"btn",onClick:e[5]||(e[5]=function(){return r.handleSignIn&&r.handleSignIn.apply(r,arguments)})},[Le,Se]))]))})),qe=(n("ea7b"),{name:"SignIn",data:function(){return{loading:!1,email:"",password:"",keepOn:!1,alert:"",signInCnt:0,locked:!1,prevRoute:null,FA:i["a"].auth()}},computed:{FAP:function(){return this.keepOn?i["a"].auth.Auth.Persistence.LOCAL:i["a"].auth.Auth.Persistence.SESSION}},props:{handlerData:Function},created:function(){var t=this;this.FA.onAuthStateChanged((function(e){e&&t.handlePersonalInfo(e.uid,e.email)}))},methods:{handleSignIn:function(){var t=this;if(this.FA.currentUser)this.FA.signOut();else{if(this.signInCnt>5)return this.alert="登入失敗!無此帳號或密碼錯誤!",this.password="",this.$refs.password.focus(),void(this.locked=!1);if(this.email.length<6)return this.alert="請輸入您的學號!",void this.$refs.email.focus();if(this.password.length<6)return this.alert="請輸入您的密碼!",void this.$refs.password.focus();this.email.indexOf("@")<0&&(this.email+="@gm.nfu.edu.tw"),this.locked=!0,this.signInCnt+=1,this.FA.setPersistence(this.FAP).then((function(){return t.FA.signInWithEmailAndPassword(t.email,t.password).then((function(e){return t.handlePersonalInfo(e.user.uid,e.user.email)})).catch((function(){t.alert="登入失敗!無此帳號或密碼錯誤!",t.password="",t.$refs.password.focus(),t.locked=!1}))}))}},handlePersonalInfo:function(t,e){var n=this;this.loading=!0,this.alert="",this.locked=!0;var c=null;V("/member/"+t).then((function(a){return n.handlerData("userID",t),n.handlerData("account",e),n.handlerData("userName",a.name),c=a.auth,V("/group/")})).then((function(t){var e=[];Object.keys(c).forEach((function(n){c[n]>0&&"System"!==n&&e.push({key:n,name:t[n],auth:c[n]})})),n.handlerData("groupList",e),"/"!==n.prevRoute.path&&"/Error"!==n.prevRoute.path?Tn.replace(n.prevRoute):Tn.replace("/"+Object.keys(c)[0])}))}},beforeRouteEnter:function(t,e,n){n((function(t){t.prevRoute=e}))}});n("667f");qe.render=Pe,qe.__scopeId="data-v-116f4e1e";var Ne=qe,ze=Object(c["G"])("data-v-7176319b");Object(c["t"])("data-v-7176319b");var Te={class:"setting main"},_e={class:"container"},Ge={key:0,class:"loading"},Ee=Object(c["h"])("h3",{class:"loading-title skeleton"},null,-1),Me=Object(c["h"])("h4",{class:"loading-subTitle skeleton"},null,-1),Fe=Object(c["h"])("hr",{class:"loading-hr"},null,-1),We=Object(c["h"])("div",{class:"loading-content skeleton"},null,-1),Ue={key:1},Ve={class:"setting-control"},Be=Object(c["h"])("h3",{class:"setting-title"},"個人資料管理",-1),Re=Object(c["h"])("hr",{class:"setting-hr"},null,-1),$e={key:0},Ze=Object(c["h"])("p",{class:"setting-subTitle"},"陳政丰",-1),He=Object(c["h"])("p",{class:"setting-subTitle"},"10961112@gm.nfu.edu.tw",-1),Xe={key:1},Je={class:"modify-inputgroup"},Ke=Object(c["h"])("p",{class:"modify-placeholder"},"請輸入舊的密碼",-1),Ye={class:"modify-inputgroup"},Qe=Object(c["h"])("p",{class:"modify-placeholder"},"請輸入新的密碼",-1),tn={class:"modify-inputgroup"},en=Object(c["h"])("p",{class:"modify-placeholder"},"請確認新的密碼",-1),nn={key:1,class:"btn locked"},cn={key:2},an=Object(c["h"])("label",{for:"notify",class:"notify"}," 接收新文章通知(建議勾選避免錯過作業與公告) ",-1),rn={key:0,class:"btn locked"};Object(c["r"])();var ln=ze((function(t,e,n,a,i,r){return Object(c["q"])(),Object(c["d"])("div",Te,[Object(c["h"])("div",_e,[i.loading?(Object(c["q"])(),Object(c["d"])("div",Ge,[Ee,Me,(Object(c["q"])(),Object(c["d"])(c["a"],null,Object(c["w"])(4,(function(t){return Object(c["h"])("span",{class:"btn skeleton",key:t}," ")})),64)),Fe,We])):(Object(c["q"])(),Object(c["d"])("div",Ue,[Object(c["h"])("div",Ve,[Be,Object(c["h"])("h4",{class:"setting-subTitle",textContent:Object(c["z"])(n.account)},null,8,["textContent"]),Object(c["h"])("h4",{class:"setting-subTitle",textContent:Object(c["z"])(n.userName)},null,8,["textContent"]),Object(c["h"])("span",{class:["btn",{active:0===i.mode}],onClick:e[1]||(e[1]=function(t){return i.mode=0})}," 聯絡管理員 ",2),Object(c["h"])("span",{class:["btn",{active:1===i.mode}],onClick:e[2]||(e[2]=function(t){return i.mode=1})}," 變更密碼 ",2),Object(c["h"])("span",{class:["btn",{active:2===i.mode}],onClick:e[3]||(e[3]=function(t){return i.mode=2})}," 文章通知 ",2)]),Re,0===i.mode?(Object(c["q"])(),Object(c["d"])("div",$e,[Ze,He])):Object(c["e"])("",!0),1===i.mode?(Object(c["q"])(),Object(c["d"])("div",Xe,[Object(c["h"])("div",Je,[Object(c["E"])(Object(c["h"])("input",{type:"password",class:"modify-input","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.oldPW=t})},null,512),[[c["C"],i.oldPW]]),Ke]),Object(c["h"])("div",Ye,[Object(c["E"])(Object(c["h"])("input",{type:"password",class:"modify-input","onUpdate:modelValue":e[5]||(e[5]=function(t){return i.newPW=t})},null,512),[[c["C"],i.newPW]]),Qe]),Object(c["h"])("div",tn,[Object(c["E"])(Object(c["h"])("input",{type:"password",class:"modify-input","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.chkPW=t})},null,512),[[c["C"],i.chkPW]]),en]),i.alert?(Object(c["q"])(),Object(c["d"])("p",{key:0,class:"modify-alert",textContent:Object(c["z"])(i.alert)},null,8,["textContent"])):Object(c["e"])("",!0),i.locked?(Object(c["q"])(),Object(c["d"])("button",nn," 修改中... ")):(Object(c["q"])(),Object(c["d"])("button",{key:2,class:"btn",onClick:e[7]||(e[7]=function(){return r.handleModifyPW&&r.handleModifyPW.apply(r,arguments)})}," 修改 "))])):Object(c["e"])("",!0),2===i.mode?(Object(c["q"])(),Object(c["d"])("div",cn,[Object(c["h"])("div",null,[Object(c["E"])(Object(c["h"])("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.notify=t}),id:"notify"},null,512),[[c["B"],i.notify]]),an]),i.locked?(Object(c["q"])(),Object(c["d"])("button",rn," 儲存中... ")):(Object(c["q"])(),Object(c["d"])("button",{key:1,class:"btn",onClick:e[9]||(e[9]=function(){return r.handleModifyNotify&&r.handleModifyNotify.apply(r,arguments)})}," 儲存 "))])):Object(c["e"])("",!0)]))])])})),on={name:"Setting",data:function(){return{loading:!0,mode:0,oldPW:"",newPW:"",chkPW:"",alert:"",notify:null,errCnt:0,locked:!1}},props:{userID:String,account:String,userName:String,handlerData:Function,handlerLogs:Function},created:function(){var t=this;F(this.userID).then((function(){return V("member/"+t.userID+"/notify")})).then((function(e){t.handlerData("activeAuth",0),t.handlerData("activeGroupName","個人資料"),t.handlerLogs("Setting","System"),t.notify=e,t.loading=!1})).catch((function(t){return Tn.replace(t)}))},methods:{handleModifyPW:function(){var t=this;if(this.errCnt+=1,this.errCnt>5)At()("嘗試次數過多!","","warning");else if(this.oldPW.length<6||this.newPW.length<6||this.chkPW.length<6)this.alert="密碼長度需大於六字元!";else if(this.newPW===this.chkPW)if(this.oldPW!==this.newPW){var e=i["a"].auth().currentUser,n=i["a"].auth.EmailAuthProvider.credential(this.account,this.oldPW);e.reauthenticateWithCredential(n).then((function(){return t.locked=!0,e.updatePassword(t.newPW)})).then((function(){t.oldPW="",t.newPW="",t.chkPW="",t.alert="",t.handlerLogs("Modify","System","Password"),t.errCnt=0,t.locked=!1,At()("密碼修改成功!","","success")})).catch((function(){return t.alert="驗證失敗!"}))}else this.alert="新密碼不可與舊密碼相同!";else this.alert="兩次密碼輸入不相同!"},handleModifyNotify:function(){this.errCnt+=1,this.errCnt>5?At()("操作太頻繁!","","warning"):(this.locked=!0,i["a"].database().ref("member/"+this.userID+"/notify").set(this.notify),this.handlerLogs("Modify","System","Notify",this.notify),At()("通知狀態修改成功!","","success"),this.locked=!1)}}};n("6c8f");on.render=ln,on.__scopeId="data-v-7176319b";var sn=on,un=Object(c["G"])("data-v-ec352230");Object(c["t"])("data-v-ec352230");var hn={class:"logs"},dn={class:"container"},bn={class:"logList_main"},pn={class:"logList_subTitle"};Object(c["r"])();var On=un((function(t,e,n,a,i,r){return Object(c["q"])(),Object(c["d"])("div",hn,[Object(c["h"])("div",dn,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(i.logList,(function(t,e){return Object(c["q"])(),Object(c["d"])("div",{class:"logList",key:e},[Object(c["h"])("div",{class:["logList_action",t.action],textContent:Object(c["z"])(t.action)},null,10,["textContent"]),Object(c["h"])("div",bn,[Object(c["h"])("div",{class:"logList_title",textContent:Object(c["z"])(t.page)},null,8,["textContent"]),Object(c["h"])("div",pn,[Object(c["h"])("span",{textContent:Object(c["z"])(t.userName),title:t.userID},null,8,["textContent","title"]),Object(c["h"])("span",{textContent:Object(c["z"])(t.device)},null,8,["textContent"]),Object(c["h"])("span",{textContent:Object(c["z"])(t.timeStamp)},null,8,["textContent"])])])])})),128))])])})),jn={name:"Logs",data:function(){return{logList:[]}},props:{userID:String,userName:String,setGroupInfo:Function},created:function(){var t=this;i["a"].database().ref("/logs/"+this.$route.params.groupID).once("value",(function(e){Object.keys(e.val()).forEach((function(n){return t.logList.push(e.val()[n])})),t.logList=H(t.logList)}))}};n("0906");jn.render=On,jn.__scopeId="data-v-ec352230";var fn=jn,mn=Object(c["G"])("data-v-4eedd5d4");Object(c["t"])("data-v-4eedd5d4");var gn={class:"error main"},vn={class:"container"},kn=Object(c["h"])("i",{class:"icofont-ban"},null,-1),yn=Object(c["h"])("li",null,"如果您看到這個頁面可能代表：",-1),Cn=Object(c["h"])("li",null,[Object(c["h"])("i",{class:"icofont-swoosh-right"}),Object(c["g"])(" 您先前訪問的資源已被刪除")],-1),wn=Object(c["h"])("li",null,[Object(c["h"])("i",{class:"icofont-swoosh-right"}),Object(c["g"])(" 您訪問所需的權限不足")],-1),Dn=Object(c["h"])("li",null,[Object(c["h"])("i",{class:"icofont-swoosh-right"}),Object(c["g"])(" 資料載入過程中發生不明錯誤")],-1),In=Object(c["h"])("li",null,[Object(c["h"])("i",{class:"icofont-swoosh-right"}),Object(c["g"])(" 您直接連進來這個頁面？！")],-1),xn=Object(c["h"])("li",null,"如有任何問題，請與管理員聯繫。",-1),An=Object(c["h"])("i",{class:"icofont-swoosh-left"},null,-1),Ln=Object(c["g"])("回首頁 ");Object(c["r"])();var Sn=mn((function(t,e,n,a,i,r){var l=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",gn,[Object(c["h"])("div",vn,[kn,Object(c["h"])("ul",null,[yn,Cn,wn,Dn,In,xn,Object(c["h"])("li",null,[Object(c["h"])(l,{class:"btn",to:"/"},{default:mn((function(){return[An,Ln]})),_:1})])])])])})),Pn={name:"Error",props:{userID:String,handlerData:Function,handlerLogs:Function},created:function(){var t=this;F(this.userID).then((function(){t.handlerData("activeAuth",0),t.handlerData("activeGroupName","未知錯誤"),t.handlerLogs("Error","System")})).catch((function(t){return Tn.replace(t)}))}};n("3eab");Pn.render=Sn,Pn.__scopeId="data-v-4eedd5d4";var qn=Pn,Nn=[{path:"/",name:"SignIn",component:Ne},{path:"/:groupID",name:"Group",component:J},{path:"/:groupID/newArticle",name:"newArticle",component:Qt},{path:"/:groupID/:articleID",name:"Article",component:St},{path:"/:groupID/:articleID/newComment",name:"newComment",component:me},{path:"/Logs",name:"Logs",component:fn},{path:"/Setting",name:"Setting",component:sn},{path:"/Error",name:"Error",component:qn}],zn=Object(C["a"])({history:Object(C["b"])("/Campus/"),routes:Nn}),Tn=zn,_n={name:"Header",data:function(){return{showMenu:!1}},props:{userID:String,activeAuth:Number,activeGroupName:String,groupList:Array,handlerData:Function},methods:{signOut:function(){var t=confirm("確定要登出嗎?");t&&(this.handlerData("userID",""),i["a"].auth().signOut(),Tn.replace("/"))}}};n("1757");_n.render=y,_n.__scopeId="data-v-414b328e";var Gn=_n,En={name:"App",data:function(){var t=["Android","webOS","iPhone","iPad"],e=t.find((function(t){return navigator.userAgent.match(t)}))||"PC/Others";return{userID:"",account:"",userName:"",activeAuth:0,activeGroupName:"",groupList:[],device:e}},created:function(){i["a"].initializeApp(M),i["a"].analytics()},components:{Header:Gn},methods:{handlerData:function(t,e){t&&(this[t]=e)},handlerLogs:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a={userID:this.userID,userName:this.userName,timeStamp:Z(),group:e,article:n,comment:c,action:t,device:this.device};R("/logs/"+e,a)},setGroupInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeGroupName=null!==t?t:"這邊還沒處理錯誤錯誤錯誤"}}};En.render=a;var Mn=En;n("0ee1"),n("ef5d"),n("8333");Object(c["c"])(Mn).use(Tn).mount("#app")},"5a02":function(t,e,n){},"667f":function(t,e,n){"use strict";n("a28a")},"6c8f":function(t,e,n){"use strict";n("5a02")},8333:function(t,e,n){},"8a39":function(t,e,n){},a28a:function(t,e,n){},b5f0:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.9d4c6270.png"},d084:function(t,e,n){},e927:function(t,e,n){},ef5d:function(t,e,n){},f85c:function(t,e,n){"use strict";n("b5f0")},f901:function(t,e,n){}});
//# sourceMappingURL=app.e5052142.js.map